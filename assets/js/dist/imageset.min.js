/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(e,t,n){"use strict";function i(e,t,n,i,r,o,s,l){var c=e.getContext("2d"),u=c.getImageData(t,n,i,r);u=a(u,o,s,l),c.putImageData(u,t,n)}function a(e,t,n,i){var a,r,s,l,c,u,d,f,g,m,h,v,p,z,b,y,C,A,E,x,w,S,M,N,L,B=e.data,O=e.width,I=e.height,R=t+t+1,_=O-1,T=I-1,D=t+1,W=D*(D+1)/2,k=new o,P=k;for(s=1;s<R;s++)P=P.next=new o,s==D&&(L=P);P.next=k;var F=null,$=null;for(d=u=0,r=0;r<I;r++){for(y=C=A=E=f=g=m=h=0,v=D*(x=B[u]),p=D*(w=B[u+1]),z=D*(S=B[u+2]),b=D*(M=B[u+3]),f+=W*x,g+=W*w,m+=W*S,h+=W*M,P=k,s=0;s<D;s++)P.r=x,P.g=w,P.b=S,P.a=M,P=P.next;for(s=1;s<D;s++)l=u+((_<s?_:s)<<2),f+=(P.r=x=B[l])*(N=D-s),g+=(P.g=w=B[l+1])*N,m+=(P.b=S=B[l+2])*N,h+=(P.a=M=B[l+3])*N,y+=x,C+=w,A+=S,E+=M,P=P.next;for(F=k,$=L,a=0;a<O;a++)B[u]=f*n>>i,B[u+1]=g*n>>i,B[u+2]=m*n>>i,B[u+3]=h*n>>i,f-=v,g-=p,m-=z,h-=b,v-=F.r,p-=F.g,z-=F.b,b-=F.a,l=d+((l=a+t+1)<_?l:_)<<2,y+=F.r=B[l],C+=F.g=B[l+1],A+=F.b=B[l+2],E+=F.a=B[l+3],f+=y,g+=C,m+=A,h+=E,F=F.next,v+=x=$.r,p+=w=$.g,z+=S=$.b,b+=M=$.a,y-=x,C-=w,A-=S,E-=M,$=$.next,u+=4;d+=O}for(a=0;a<O;a++){for(C=A=E=y=g=m=h=f=0,u=a<<2,v=D*(x=B[u]),p=D*(w=B[u+1]),z=D*(S=B[u+2]),b=D*(M=B[u+3]),f+=W*x,g+=W*w,m+=W*S,h+=W*M,P=k,s=0;s<D;s++)P.r=x,P.g=w,P.b=S,P.a=M,P=P.next;for(c=O,s=1;s<=t;s++)u=c+a<<2,f+=(P.r=x=B[u])*(N=D-s),g+=(P.g=w=B[u+1])*N,m+=(P.b=S=B[u+2])*N,h+=(P.a=M=B[u+3])*N,y+=x,C+=w,A+=S,E+=M,P=P.next,s<T&&(c+=O);for(u=a,F=k,$=L,r=0;r<I;r++)l=u<<2,B[l+3]=M=h*n>>i,M>0?(M=255/M,B[l]=(f*n>>i)*M,B[l+1]=(g*n>>i)*M,B[l+2]=(m*n>>i)*M):B[l]=B[l+1]=B[l+2]=0,f-=v,g-=p,m-=z,h-=b,v-=F.r,p-=F.g,z-=F.b,b-=F.a,l=a+((l=r+D)<T?l:T)*O<<2,f+=y+=F.r=B[l],g+=C+=F.g=B[l+1],m+=A+=F.b=B[l+2],h+=E+=F.a=B[l+3],F=F.next,v+=x=$.r,p+=w=$.g,z+=S=$.b,b+=M=$.a,y-=x,C-=w,A-=S,E-=M,$=$.next,u+=O}return e}function r(e,t,n,i,a,r,s,l){var c,u,d,f,g,m,h,v,p,z,b,y,C,A,E,x,w,S,M,N,L,B=e.getContext("2d"),O=B.getImageData(t,n,i,a),I=O.data,R=r+r+1,_=i-1,T=a-1,D=r+1,W=D*(D+1)/2,k=new o,P=k;for(d=1;d<R;d++)P=P.next=new o,d==D&&(L=P);P.next=k;var F=null,$=null;for(h=m=0,u=0;u<a;u++){for(A=E=x=v=p=z=0,b=D*(w=I[m]),y=D*(S=I[m+1]),C=D*(M=I[m+2]),v+=W*w,p+=W*S,z+=W*M,P=k,d=0;d<D;d++)P.r=w,P.g=S,P.b=M,P=P.next;for(d=1;d<D;d++)f=m+((_<d?_:d)<<2),v+=(P.r=w=I[f])*(N=D-d),p+=(P.g=S=I[f+1])*N,z+=(P.b=M=I[f+2])*N,A+=w,E+=S,x+=M,P=P.next;for(F=k,$=L,c=0;c<i;c++)I[m]=v*s>>l,I[m+1]=p*s>>l,I[m+2]=z*s>>l,v-=b,p-=y,z-=C,b-=F.r,y-=F.g,C-=F.b,f=h+((f=c+r+1)<_?f:_)<<2,A+=F.r=I[f],E+=F.g=I[f+1],x+=F.b=I[f+2],v+=A,p+=E,z+=x,F=F.next,b+=w=$.r,y+=S=$.g,C+=M=$.b,A-=w,E-=S,x-=M,$=$.next,m+=4;h+=i}for(c=0;c<i;c++){for(E=x=A=p=z=v=0,m=c<<2,b=D*(w=I[m]),y=D*(S=I[m+1]),C=D*(M=I[m+2]),v+=W*w,p+=W*S,z+=W*M,P=k,d=0;d<D;d++)P.r=w,P.g=S,P.b=M,P=P.next;for(g=i,d=1;d<=r;d++)m=g+c<<2,v+=(P.r=w=I[m])*(N=D-d),p+=(P.g=S=I[m+1])*N,z+=(P.b=M=I[m+2])*N,A+=w,E+=S,x+=M,P=P.next,d<T&&(g+=i);for(m=c,F=k,$=L,u=0;u<a;u++)f=m<<2,I[f]=v*s>>l,I[f+1]=p*s>>l,I[f+2]=z*s>>l,v-=b,p-=y,z-=C,b-=F.r,y-=F.g,C-=F.b,f=c+((f=u+D)<T?f:T)*i<<2,v+=A+=F.r=I[f],p+=E+=F.g=I[f+1],z+=x+=F.b=I[f+2],F=F.next,b+=w=$.r,y+=S=$.g,C+=M=$.b,A-=w,E-=S,x-=M,$=$.next,m+=i}B.putImageData(O,t,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}e.stackBlur={canvasRGB:r,canvasRGBA:i}}(window,document),function(e,t,n,i,a){"use strict";function r(e){"loading"!=t.readyState?e():t[A]("DOMContentLoaded",e)}function o(e,t){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,a)},t)}}function s(e,t){e.complete&&"undefined"!=typeof e[O]&&0!==e[O]?t():e[A]("load",t)}function l(t,n){var i=e[B]||1,a=n.webkitBackingStorePixelRatio||1,r=i/a;if(i!==a){var o=t.width,s=t.height;t.width=o*r,t.height=s*r,n.scale(r,r)}return r}function c(e){var t=e[S].match(F);return!!t&&t[1]}var u="getElementsByClassName";if(t[u]){var d="imageset",f=d,g=d+"--loaded",m=d+"--placeholder",h=d+"--placeholder--",v=d+"--alpha",p=d+"--placeholder--rendered",z=d+"__element",b=d+"__placeholder",y=t.documentElement,C=navigator.userAgent,A="addEventListener",E="getAttribute",x="MutationObserver",w="classList",S="className",M="hasAttribute",N="data-src",L="data-srcset",B="devicePixelRatio",O="naturalWidth",I="naturalHeight",R="mozOpaque",_=e.requestAnimationFrame||function(e){setTimeout(e,1e3/60)},T=function(){function e(e){i.push(e),n()}function t(){var e=i.shift();e(),i.length?_(t):a=!1}function n(){a||(a=!0,_(t))}var i=[],a=!1;return{add:e}}(),D=function(){return y[w]?function(e,t){return e[w].contains(t)}:function(e,t){return!!~e[S].split(/\s+/).indexOf(t)}}(),W=function(){return y[w]?function(e,t){e[w].add(t)}:function(e,t){var n=e[S].split(/\s+/);~n.indexOf(t)||(n.push(t),e[S]=n.join(" "))}}(),k=(function(){return y[w]?function(e,t){return e[w].remove(t)}:function(e,t){var n=e[S].split(/\s+/),i=n.indexOf(t);~i&&(n.splice(i,1),e[S]=n.join(" "))}}(),"[object OperaMini]"===Object.prototype.toString.call(e.operamini));if(k){e.lazySizesConfig=e.lazySizesConfig||{},e.lazySizesConfig.init=!1;var P=function(t){var n=t.getElementsByTagName("source"),i=t[u](z)[0];if(W(t,g),e.HTMLPictureElement){for(var a=0,r=n.length;a<r;a++){var o=n[a];o[M](L)&&(o.srcset=o[E](L)),o[M](N)&&(o.src=o[E](N))}i[M](L)&&(i.srcset=i[E](L)),i[M](N)&&(i.src=i[E](N))}else{for(var s=n.length>0?n[n.length-1]:i,l=s[E](L).split(/,\s+/),c=n.length;c>=0;c--)n[c].parentNode.removeChild(n[c]);i.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void r(function(){for(var e=t[u](f),n=0,i=e.length;n<i;n++)P(e[n])})}var F=new RegExp(h+"([a-z0-9_-]+)\\s*","i"),$={};if(e.CanvasRenderingContext2D){var j=C.indexOf("Safari")!==-1&&C.indexOf("Chrome")===-1,q="imageRendering"in y.style||"msInterpolationMode"in y.style;q&&!j||($.mosaic=function(e){var n=t.createElement("canvas"),i=n.getContext("2d"),a=e[u](b)[0],r=function(){l(n,i);var t=a[O],r=a[I],o=e.offsetWidth,s=e.offsetWidth/t*r+.5|0;n.width=o,n.height=s,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n[S]=a[S],T.add(function(){i.drawImage(a,0,0,o,s),a.parentNode.replaceChild(n,a)})};s(a,r)});var H=function(e,n,i,a){var r=e[u](b)[0],o=function(){var o=r[O],s=r[I],l=e.offsetWidth,c=e.offsetWidth/o*s+.5|0,u=t.createElement("canvas"),d=u.getContext("2d"),f=D(e,v);u.width=l,u.height=c,!f&&R in u&&(u[R]=!0),u.setAttribute("aria-hidden",!0),u[S]=r[S],T.add(function(){d.drawImage(r,0,0,l,c),stackBlur[f?"canvasRGBA":"canvasRGB"](u,0,0,l,c,n,i,a),r.parentNode.replaceChild(u,r)})};s(r,function(){o()})};$.blurred=function(e){H(e,15,512,17)},$.lqip=function(e){H(e,7,512,15)};var G=function(e,t,i){i=!!i;var a=e.getContext("2d"),r=a.getImageData(0,0,e.width,e.height),o=r.data,s=r.width,c=r.height,u=s-1,d=c-1,f=n.round(t*(n.sqrt(3)/2)),g=f/2,m=t/2;l(e,a);var h,v,p,z,b,y,C,A,E,x,w,S,M,N,L,B,O,I,R=function(e,n,i,r){r=r||!1;var o=e+(r?0:f);a.beginPath(),a.moveTo(o,n+0),a.lineTo(e+(r?f:0),n+m),a.lineTo(o,n+t),a.fill(),a.closePath()},_=function(e,t){var n=t*s*4+4*e;return[o[n],o[n+1],o[n+2],o[n+3]]},T=function(e,t){return o[t*s*4+4*e+3]},D=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=T(e[n][0],e[n][1]);return t/i},W=function(e){return"rgb("+e.slice(0,3).join(",")+")"},k=function(e){return e[3]/=255,"rgba("+e.join(",")+")"},P=function(e){return n.max(0,n.min(n.round(e),u))},F=function(e){return n.max(0,n.min(n.round(e),d))},$=n.ceil(s/f)+1,j=n.ceil(c/t)+1;if(i){for(v=0;v<j;v++)for(z=v*t,C=F(z+m),A=z-m,w=F(z),h=0;h<$;h++)p=h*f,L=h%2!==0,b=P(p),y=F(z),x=P(L?p+f-1:p),E=P(L?p:p+f-1),M=P(p+g),N=F(z+m),B=[[E,y],[x,N],[E,F(z+t-1)],[M,N],[M,N]],O=D(B)+.5|0,a.fillStyle=k([O,0,0,255]),a.fillRect(p,z,f,t),B=[[E,F(z-m)],[x,y],[E,F(z+m-1)],[M,y],[M,y]],O=D(B)+.5|0,a.fillStyle=k([O,0,0,255]),R(p,A,!1,L);var q=a.getImageData(0,0,e.width,e.height),H=q.data,G=H.length;for(I=0;I<G;I+=4)H[I+3]=H[I];a.putImageData(q,0,0),a.globalCompositeOperation="source-atop"}for(v=0;v<j;v++)for(z=v*t,C=F(z+m),A=z-m,w=F(z),h=0;h<$;h++)p=h*f,S=P(p+g),L=h%2!==0,a.fillStyle=W(_(S,C)),a.fillRect(p,z,f,t),a.fillStyle=W(_(S,w)),R(p,A,!1,L);i&&(a.globalCompositeOperation="source-over")};$.triangles=function(e){var i=e[u](b)[0],a=function(){var a=i[O],r=i[I],o=e.offsetWidth,s=n.round(e.offsetWidth/a*r),l=t.createElement("canvas"),c=l.getContext("2d"),u=D(e,v);l.width=o,l.height=s,!u&&R in l&&(l[R]=!0),l.setAttribute("aria-hidden",!0),l[S]=i[S],T.add(function(){c.drawImage(i,0,0,o,s),G(l,40,u),i.parentNode.replaceChild(l,i)})};s(i,function(){a()})}}var U=function(){function n(){for(var e,t,n=0,i=a.length;n<i;n++)a[n]&&(t=a[n],D(t,p)||(e=c(t),e&&$[e]&&(W(t,p),$[e](t))))}function i(){t[A]("lazybeforeunveil",function(e){var t=e.target,n=t.parentNode;if(D(t,z)){for(;!D(n,f);)n=n.parentNode;var i=function(){t.removeEventListener("load",i),_(function(){W(n,g)})};t[A]("load",i)}}),a=t[u](m),e[x]?new e[x](r).observe(y,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(y[A]("DOMNodeInserted",r,!0),y[A]("DOMAttrModified",r,!0),setInterval(r,999)),e[A]("hashchange",r,!0),r()}var a,r=o(n);return{init:i}}();r(U.init)}}(window,document,Math,Date),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,a=e.parentNode;"PICTURE"===a.nodeName.toUpperCase()?(t=n.cloneNode(),a.insertBefore(t,a.firstElementChild),setTimeout(function(){a.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},a=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},r=function(){clearTimeout(t),t=setTimeout(a,99)},o=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){r(),o&&o.addListener&&o.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),r}())}(window),function(e){"use strict";var t,n,i,a;e.addEventListener&&(t=e.lazySizes&&lazySizes.cfg||e.lazySizesConfig||{},n=t.lazyClass||"lazyload",i=function(){var t,i;if("string"==typeof n&&(n=document.getElementsByClassName(n)),e.lazySizes)for(t=0,i=n.length;t<i;t++)lazySizes.loader.unveil(n[t])},addEventListener("beforeprint",i,!1),!("onbeforeprint"in e)&&e.matchMedia&&(a=matchMedia("print"))&&a.addListener&&a.addListener(function(){a.matches&&i()}))}(window),function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,a=e.Date,r=e.HTMLPictureElement,o="addEventListener",s="getAttribute",l=e[o],c=e.setTimeout,u=e.requestAnimationFrame||c,d=e.requestIdleCallback,f=/^picture$/i,g=["load","error","lazyincluded","_lazyloaded"],m={},h=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[s]("class")||"")&&m[t]},p=function(e,t){v(e,t)||e.setAttribute("class",(e[s]("class")||"").trim()+" "+t)},z=function(e,t){var n;(n=v(e,t))&&e.setAttribute("class",(e[s]("class")||"").replace(n," "))},b=function(e,t,n){var i=n?o:"removeEventListener";n&&b(e,t),g.forEach(function(n){e[i](n,t)})},y=function(e,n,i,a,r){var o=t.createEvent("CustomEvent");return o.initCustomEvent(n,!a,!r,i||{}),e.dispatchEvent(o),o},C=function(t,i){var a;!r&&(a=e.picturefill||n.pf)?a({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},A=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},x=function(){var e,n,i=[],a=function(){var t;for(e=!0,n=!1;i.length;)t=i.shift(),t[0].apply(t[1],t[2]);e=!1},r=function(r){e?r.apply(this,arguments):(i.push([r,this,arguments]),n||(n=!0,(t.hidden?c:u)(a)))};return r._lsFlush=a,r}(),w=function(e,t){return t?function(){x(e)}:function(){var t=this,n=arguments;x(function(){e.apply(t,n)})}},S=function(e){var t,n=0,i=125,r=666,o=r,s=function(){t=!1,n=a.now(),e()},l=d?function(){d(s,{timeout:o}),o!==r&&(o=r)}:w(function(){c(s)},!0);return function(e){var r;(e=e===!0)&&(o=44),t||(t=!0,r=i-(a.now()-n),r<0&&(r=0),e||r<9&&d?l():c(l,r))}},M=function(e){var t,n,i=99,r=function(){t=null,e()},o=function(){var e=a.now()-n;e<i?c(o,i-e):(d||r)(r)};return function(){n=a.now(),t||(t=c(o,i))}},N=function(){var r,u,d,g,m,E,N,B,O,I,R,_,T,D,W,k=/^img$/i,P=/^iframe$/i,F="onscroll"in e&&!/glebot/.test(navigator.userAgent),$=0,j=0,q=0,H=-1,G=function(e){q--,e&&e.target&&b(e.target,G),(!e||q<0||!e.target)&&(q=0)},U=function(e,n){var a,r=e,o="hidden"==A(t.body,"visibility")||"hidden"!=A(e,"visibility");for(O-=n,_+=n,I-=n,R+=n;o&&(r=r.offsetParent)&&r!=t.body&&r!=i;)o=(A(r,"opacity")||1)>0,o&&"visible"!=A(r,"overflow")&&(a=r.getBoundingClientRect(),o=R>a.left&&I<a.right&&_>a.top-1&&O<a.bottom+1);return o},K=function(){var e,a,o,l,c,f,g,h,v;if((m=n.loadMode)&&q<8&&(e=r.length)){a=0,H++,null==D&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),T=n.expand,D=T*n.expFactor),j<D&&q<1&&H>2&&m>2&&!t.hidden?(j=D,H=0):j=m>1&&H>1&&q<6?T:$;for(;a<e;a++)if(r[a]&&!r[a]._lazyRace)if(F)if((h=r[a][s]("data-expand"))&&(f=1*h)||(f=j),v!==f&&(N=innerWidth+f*W,B=innerHeight+f,g=f*-1,v=f),o=r[a].getBoundingClientRect(),(_=o.bottom)>=g&&(O=o.top)<=B&&(R=o.right)>=g*W&&(I=o.left)<=N&&(_||R||I||O)&&(d&&q<3&&!h&&(m<3||H<4)||U(r[a],f))){if(te(r[a]),c=!0,q>9)break}else!c&&d&&!l&&q<4&&H<4&&m>2&&(u[0]||n.preloadAfterLoad)&&(u[0]||!h&&(_||R||I||O||"auto"!=r[a][s](n.sizesAttr)))&&(l=u[0]||r[a]);else te(r[a]);l&&!c&&te(l)}},Q=S(K),J=function(e){p(e.target,n.loadedClass),z(e.target,n.loadingClass),b(e.target,X)},V=w(J),X=function(e){V({target:e.target})},Y=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Z=function(e){var t,i,a=e[s](n.srcsetAttr);(t=n.customMedia[e[s]("data-media")||e[s]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},ee=w(function(e,t,i,a,r){var o,l,u,d,m,v;(m=y(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(i?p(e,n.autosizesClass):e.setAttribute("sizes",a)),l=e[s](n.srcsetAttr),o=e[s](n.srcAttr),r&&(u=e.parentNode,d=u&&f.test(u.nodeName||"")),v=t.firesLoad||"src"in e&&(l||o||d),m={target:e},v&&(b(e,G,!0),clearTimeout(g),g=c(G,2500),p(e,n.loadingClass),b(e,X,!0)),d&&h.call(u.getElementsByTagName("source"),Z),l?e.setAttribute("srcset",l):o&&!d&&(P.test(e.nodeName)?Y(e,o):e.src=o),(l||d)&&C(e,{src:o})),x(function(){e._lazyRace&&delete e._lazyRace,z(e,n.lazyClass),v&&!e.complete||(v?G(m):q--,J(m))})}),te=function(e){var t,i=k.test(e.nodeName),a=i&&(e[s](n.sizesAttr)||e[s]("sizes")),r="auto"==a;(!r&&d||!i||!e.src&&!e.srcset||e.complete||v(e,n.errorClass))&&(t=y(e,"lazyunveilread").detail,r&&L.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,q++,ee(e,t,r,a,i))},ne=function(){if(!d){if(a.now()-E<999)return void c(ne,999);var e=M(function(){n.loadMode=3,Q()});d=!0,n.loadMode=3,Q(),l("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){E=a.now(),r=t.getElementsByClassName(n.lazyClass),u=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),W=n.hFac,l("scroll",Q,!0),l("resize",Q,!0),e.MutationObserver?new MutationObserver(Q).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[o]("DOMNodeInserted",Q,!0),i[o]("DOMAttrModified",Q,!0),setInterval(Q,999)),l("hashchange",Q,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[o](e,Q,!0)}),/d$|^c/.test(t.readyState)?ne():(l("load",ne),t[o]("DOMContentLoaded",Q),c(ne,2e4)),r.length?K():Q()},checkElems:Q,unveil:te}}(),L=function(){var e,i=w(function(e,t,n,i){var a,r,o;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),f.test(t.nodeName||""))for(a=t.getElementsByTagName("source"),r=0,o=a.length;r<o;r++)a[r].setAttribute("sizes",i);n.detail.dataAttr||C(e,n.detail)}),a=function(e,t,n){var a,r=e.parentNode;r&&(n=E(e,r,n),a=y(e,"lazybeforesizes",{width:n,dataAttr:!!t}),a.defaultPrevented||(n=a.detail.width,n&&n!==e._lazysizesWidth&&i(e,r,a,n)))},r=function(){var t,n=e.length;if(n)for(t=0;t<n;t++)a(e[t])},o=M(r);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),l("resize",o)},checkElems:o,updateElem:a}}(),B=function(){B.i||(B.i=!0,L._(),N._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,c(function(){n.init&&B()})}(),{cfg:n,autoSizer:L,loader:N,init:B,uP:C,aC:p,rC:z,hC:v,fire:y,gW:E,rAF:x}}});